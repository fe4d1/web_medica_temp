# VitalCare Medical Web - Internal Developer Documentation

**Confidential - Internal Use Only**

## 1. Project Overview & Architecture
This project is a Next.js 15 application designed to simulate a real-world medical platform without the complexity of a real database server.

### Key Architectural Decisions:
- **No Database**: We use `fs/promises` to read/write to `src/data/*.json` files. This mimics a database latency and structure but keeps the repo self-contained.
- **Server Actions**: All form submissions (Login, Book Appointment, Create News) use Next.js Server Actions. This ensures progressive enhancement and secure backend execution.
- **CSS Variables**: Check `src/app/globals.css`. We defined a Semantic Color System (`--primary`, `--secondary`, `--accent`) to make theming changes instant across the app.

## 2. Directory Structure Explained
- **`src/app`**:
    - `page.tsx`: The Homepage. Uses generic components and fetches generic news.
    - `doctors/`: Lists doctors from `doctors.json`.
    - `patients/`: Handles Patient Login & Dashboard.
    - `professionals/`: Handles Staff Login & Dashboard. NOTE: This is separate from Patients for security simulation.
    - `admin/`: Hidden path for News Creation.
- **`src/data`**:
    - **HOT**: These files are the "Live DB". If the app crashes on data, check these JSONs for syntax errors.
    - `doctors.json`: Lists public profile info.
    - `patients.json`: Contains sensitive patient records (hashed passwords would be here in real prod).
    - `staff.json`: Staff credentials.
- **`src/lib`**:
    - `db.ts`, `db-patient.ts`, `db-staff.ts`: These act as our ORM/SDK to interact with the JSON files.

## 3. Deployment & Production

### Connecting to GitHub (Securely)
Since we have removed all hardcoded real secrets (using only "demo" passwords), this repo is safe to push to a private or public repository.

**Steps to Push:**
1.  Initialize Git:
    ```bash
    git init
    git add .
    git commit -m "Initial commit of VitalCare Platform"
    ```
2.  Create a Repo on GitHub:
    - Go to GitHub -> New Repository.
    - Name it `vitalcare-medical` (or similar).
    - **Do NOT** check "Initialize with README" (we made one).
3.  Link and Push:
    ```bash
    git remote add origin https://github.com/YOUR_USERNAME/REPO_NAME.git
    git branch -M main
    git push -u origin main
    ```

### Environment Variables
Currently, the app **does not** rely on `.env` files for logic, as it's a prototype using local JSONs.
If you deploy to **Vercel**, the `fs` (FileSystem) API might be read-only (Lambda environment).
*Recommendation*: For a Vercel deployment, you would need to migrate the generic JSON logic to a cloud database (like Postgres or MongoDB) or use Vercel Blob Storage. The current setup is perfect for a **VPS**, **Docker**, or **Local Demo**.

## 4. Known "Secrets" & Test Data
- **News Admin Key**: Defined in `src/app/admin/news/create/page.tsx` as `admin123`. Change this code if you go to production.
- **Demo Users**:
    - Patient: `123456` / `demo`
    - Doctor: `DOC-001` / `admin`

## 5. Maintenance
- **Adding Images**: Put them in `/public/assets/images`.
- **Changing Colors**: Edit `:root` in `src/app/globals.css`.
- **New Pages**: Create a folder in `src/app/` with a `page.tsx`.

## 6. API / Integrations
Currently, no external APIs are called. The site is fully self-contained.
To add Email Sending (for the Booking form), look at `src/app/book/page.tsx` and integrate a service like **Resend** or **SendGrid** inside the Server Action.

---
*Generated by Antigravity - January 2026*
